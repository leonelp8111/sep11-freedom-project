1<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <script type="module">

            // import kaboom lib
            import kaboom from "https://unpkg.com/kaboom@3000.0.1/dist/kaboom.mjs";

   kaboom()

                scene("game", ({}))

        setGravity(1200)

        loadSprite("spiderman", "sprites/spiderman.jpeg")
        const spider =add([
            sprite("spiderman"),
            pos(10,5),
            area(),
            body(),
            health(5),
            scale(0.39),
        ])
        //  onKeyPress("space" , ()=>{
        //     spider.jump()
        //  })

        // loadBean()
        // const bean = add ([
        //     sprite("bean"),
        //     pos(120, 80),
        //     area(),
        //     body(),
        // ])

        onKeyPress("space" , () => {
            if (spider.isGrounded()) {
            spider.jump()
            }
        })

        add([
            rect(width(), 48),
            pos(0, height() - 48),
            outline(4),
            area(),
            body({ isStatic: true }),
            color(200, 300, 400),
        ])

        loop(1, () => {
            // add tree
            add([
                rect(48, 64),
                area(),
                outline(4),
                pos(width(), height() - 48),
                anchor("botleft"),
                color(255, 180, 255),
                move(LEFT, 240),
                "tree", // add a tag here
            ]);
        });

        spider.onCollide("tree" , "bad ", () => {
            addKaboom(spider.pos);
            shake();
            spider.hurt(1)
            bad.hurt(1)
            spider.on("death", () =>{
                destroy(spider)
                go("lose")
            })

            scene("lose" , () =>{
                add([
                    sprite("spider"),
                    text("you lose"),
                    pos(12)
                ])
            })
        });
                                                            
    onKeyPress(start);

function start(){
    go("game")
}




// spider.onCollide("bad" , (bad) => {
//     spider.hurt(1)
//     bad.hurt(1)
// })

//

            </script>
        <style>
            /* CSS */

        </style>

        <title>Kaboom</title>
    </head>
    <body>
        <!-- HTML -->


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            // JS


        </script>
    </body>
</html>
